# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input CreateProjectInput {
  """Nom du projet"""
  name: String!

  """Identifiant de l'utilisateur qui créé le projet"""
  userId: String
}

input CreateTaskInput {
  """Description de la tache"""
  description: String

  """Identifiant du projet auquel la tache appartient"""
  projectId: String!

  """Nom de la tache"""
  title: String!
}

input CreateUserInput {
  """Email de l'utilisateur"""
  email: String!

  """Prénom de l'utilisateur"""
  firstname: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  """Permet de créer un nouveau projet"""
  createProject(dto: CreateProjectInput!): Project!

  """Permet de créer une nouvelle tâche"""
  createTask(dto: CreateTaskInput!): Task!

  """Permet de créer un nouvel utilisateur"""
  createUser(dto: CreateUserInput!): User!

  """Permet de supprimer une tâche"""
  deleteTask(id: String!): Boolean!

  """Permet de mettre à jour une tâche"""
  updateTask(dto: UpdateTaskInput!): Task!
}

type Project {
  """Date de création (UTC, immuable)"""
  createdAt: DateTime!

  """Date de suppression (UTC)"""
  deletedAt: DateTime
  id: ID!
  name: String!
  tasks(archived: Boolean): [Task!]

  """Date de dernière mise à jour (UTC)"""
  updatedAt: DateTime!
  user: User!
}

input ProjectFiltersInput {
  """Identifiant de l'utilisateur"""
  userId: String
}

type Query {
  """Retourne la liste des projets, filtrables par utilisateur"""
  allProjects(dto: ProjectFiltersInput!): [Project!]!

  """Retourne la liste des tâches"""
  allTasks(dto: TaskFiltersInput!): [Task!]!

  """Retourne la liste des utilisateurs"""
  allUsers: [User!]!
}

type Task {
  """Date de création (UTC, immuable)"""
  createdAt: DateTime!

  """Date de suppression (UTC)"""
  deletedAt: DateTime
  description: String
  id: ID!
  isArchived: Boolean!
  project: Project!
  status: TaskStatus!
  title: String!

  """Date de dernière mise à jour (UTC)"""
  updatedAt: DateTime!
}

input TaskFiltersInput {
  """Filtrer par tâches archivées ou non"""
  archived: Boolean

  """Identifiant du projet"""
  projectId: String
}

enum TaskStatus {
  DONE
  IN_PROGRESS
  TODO
}

input UpdateTaskInput {
  """Description de la tache"""
  description: String

  """Identifiant de la tache"""
  id: String!

  """Statut de la tache"""
  status: TaskStatus

  """Titre de la tache"""
  title: String
}

type User {
  """Date de création (UTC, immuable)"""
  createdAt: DateTime!

  """Date de suppression (UTC)"""
  deletedAt: DateTime
  email: String!
  firstname: String!
  id: ID!
  projects: [Project!]

  """Date de dernière mise à jour (UTC)"""
  updatedAt: DateTime!
}